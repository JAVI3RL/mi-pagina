<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Guardar datos en Firestore</title>
  </head>
  <body>
    <h1>Guardar datos en Firestore</h1>

    <input id="nombre" placeholder="Tu nombre">
    <input id="mensaje" placeholder="Escribe un mensaje">
    <button id="enviar">Guardar en Firestore</button>

    <p id="resultado"></p>

    <script type="module">
      import { initializeApp } from "https://www.gstatic.com/firebasejs/12.5.0/firebase-app.js";
      import { getFirestore, collection, addDoc } from "https://www.gstatic.com/firebasejs/12.5.0/firebase-firestore.js";
      
      const firebaseConfig = { 
        apiKey: "AIzaSyC1JqbUZ75hAFZg6ceCbiGR04yHVi8ILLQ",
        authDomain: "miapp-8a765.firebaseapp.com",
        projectId: "miapp-8a765",
        storageBucket: "miapp-8a765.firebasestorage.app",
        messagingSenderId: "505577033701",
        appId: "1:505577033701:web:29fc738c845e5fa185290c",
        measurementId: "G-6Z0GCN770G"
      };

      const app = initializeApp(firebaseConfig);
      const db = getFirestore(app);

      const nombreInput = document.getElementById("nombre");
      const mensajeInput = document.getElementById("mensaje");
      const btn = document.getElementById("enviar");
      const resultado = document.getElementById("resultado");

      btn.addEventListener("click", async () => {
        const nombre = nombreInput.value;
        const mensaje = mensajeInput.value;

        if (!nombre || !mensaje) {
          resultado.textContent = "Falta escribir algo";
          return;
        }

        await addDoc(collection(db, "mensajes"), {
          nombre: nombre,
          mensaje: mensaje,
          fecha: new Date()
        });

        resultado.textContent = "âœ… Guardado en Firestore";
        nombreInput.value = "";
        mensajeInput.value = "";
      });
    </script>
  </body>
</html>

